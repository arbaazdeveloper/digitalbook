(this.webpackJsonpdigitalnotes=this.webpackJsonpdigitalnotes||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(16),r=a.n(s),o=(a(24),a(25),a(8)),i=a(2),l=a(0);var d=function(){var e=Object(i.f)(),t=Object(i.g)();return Object(n.useEffect)((function(){}),[t]),Object(l.jsx)("div",{children:Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)(o.b,{className:"navbar-brand",to:"/",children:"DigitalDiary"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(l.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link ".concat("/"===t.pathname?"active":""),"aria-current":"page",to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link ".concat("/about"===t.pathname?"active":""),"aria-current":"page",to:"/about",children:"About"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link ".concat("/extra"===t.pathname?"active":""),to:"/extra",children:"Extra"})})]}),localStorage.getItem("token")?Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){localStorage.removeItem("token"),e.push("/login")},children:"Logout"}):Object(l.jsxs)("form",{className:"d-flex",children:[Object(l.jsx)(o.b,{className:"btn btn-primary mx-2",to:"/login",role:"button",children:"Login"}),Object(l.jsx)(o.b,{className:"btn btn-primary mx-2",to:"/signup",role:"button",children:"Sign up"})]})]})]})})})},j=a(10),b=a(7),u=a(5),m=Object(n.createContext)();var p=function(){var e=Object(n.useContext)(m).addNote,t=Object(n.useState)({title:"",description:"",tag:"default"}),a=Object(u.a)(t,2),c=a[0],s=a[1],r=function(e){s(Object(b.a)(Object(b.a)({},c),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"container addnote",children:[Object(l.jsx)("h1",{children:"Save Notes"}),Object(l.jsxs)("form",{action:"",method:"post",children:[Object(l.jsx)("input",{type:"text",id:"title",name:"title",onChange:r,placeholder:"enter your text here",value:c.title,minLength:5,required:!0}),Object(l.jsx)("input",{type:"text",id:"description",name:"description",value:c.description,onChange:r,placeholder:"enter your text here",minLength:5,required:!0}),Object(l.jsx)("input",{type:"text",id:"tag",name:"tag",value:c.tag,onChange:r,placeholder:"enter your text here"}),Object(l.jsx)("button",{disabled:c.title.length<5||c.description.length<5,onClick:function(t){t.preventDefault(),e(c.title,c.description,c.tag),s({title:"",description:"",tag:""})},type:"submit",children:"Add"})]})]})})},h=a(19),x=a.n(h);var O=function(e){var t=Object(n.useContext)(m).deleteNote,a=e.note,c=e.updateNote;return Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:a.title}),Object(l.jsx)("p",{className:"card-text",children:a.description}),Object(l.jsx)("p",{className:"card-text",children:a.tag}),Object(l.jsx)("p",{className:"card-text",children:x()(a.date).format("On DD-MM-YYYY")}),Object(l.jsx)("i",{className:"far fa-edit mx-3",onClick:function(){c(a)}}),Object(l.jsx)("i",{className:"fas fa-trash-alt",onClick:function(){return t(a._id)}})]})})})};var g=function(){var e=Object(n.useContext)(m),t=e.Notes,a=e.getNotes,c=e.editNote,s=Object(n.useState)({id:"",etitle:"",edescription:"",etag:"default"}),r=Object(u.a)(s,2),o=r[0],d=r[1],h=Object(i.f)(),x=function(e){d(Object(b.a)(Object(b.a)({},o),{},Object(j.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){localStorage.getItem("token")?a():h.push("/login")}),[]);var g=function(e){f.current.click(),d({id:e._id,etitle:e.title,edescription:e.edescription,etag:e.tag})},f=Object(n.useRef)(null),v=Object(n.useRef)(null);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p,{}),Object(l.jsx)("button",{ref:f,type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Launch demo modal"}),Object(l.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit note"}),Object(l.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(l.jsxs)("div",{className:"modal-body",children:[Object(l.jsx)("input",{type:"text",id:"etitle",name:"etitle",value:o.etitle,onChange:x,placeholder:"enter your text here"}),Object(l.jsx)("input",{type:"text",id:"edescription",value:o.edescription,name:"edescription",onChange:x,placeholder:"enter your text here"}),Object(l.jsx)("input",{type:"text",id:"etag",name:"etag",value:o.etag,onChange:x,placeholder:"enter your text here"})]}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsx)("button",{ref:v,type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(l.jsx)("button",{onClick:function(e){v.current.click(),c(o.id,o.etitle,o.edescription,o.etag)},type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h1",{children:"Your Notes"}),0===t.length&&"no post yet",t.map((function(e){return Object(l.jsx)(O,{updateNote:g,note:e},e._id)}))]})})]})};var f=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(g,{})})};var v=function(){return Object(l.jsx)("div",{})},N=a(3),y=a.n(N),w=a(9),k=function(e){var t="http://localhost:5000",a=Object(n.useState)([{_id:"616cfbc28b8c84e3dc95cad2",user:"616cab38c41c34791b5c8039",title:"title my title updated",description:"my description updated 999",tag:"my tag",date:"2021-10-18T04:44:50.759Z",__v:0},{_id:"616db81b0d2842267a72773a",user:"616cab38c41c34791b5c8039",title:"the title",description:"something new",tag:"nothing",date:"2021-10-18T18:08:27.766Z",__v:0},{_id:"616db81e0d2842267a72773c",user:"616cab38c41c34791b5c8039",title:"the title",description:"something new",tag:"nothing",date:"2021-10-18T18:08:30.669Z",__v:0},{_id:"616dc24512ce9c5818354a09",user:"616cab38c41c34791b5c8039",title:"title my title",description:"my description",tag:"my tag",date:"2021-10-18T18:51:49.510Z",__v:0}]),c=Object(u.a)(a,2),s=c[0],r=c[1],o=function(){var e=Object(w.a)(y.a.mark((function e(){var a,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t,"/api/notes/fetchallnotes"),e.next=3,fetch(a,{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c),r(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(w.a)(y.a.mark((function e(a,n,c){var o,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(t,"/api/notes/addnote"),e.next=3,fetch(o,{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:a,description:n,tag:c})});case 3:return i=e.sent,e.next=6,i.json();case 6:l=e.sent,r(s.concat(l)),console.log("adding note");case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(w.a)(y.a.mark((function e(a){var n,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/api/notes/deletenote/").concat(a),e.next=3,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});case 3:c=e.sent,console.log(c),o=s.filter((function(e){return e._id!==a})),r(o),console.log("deleted id is"+a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(y.a.mark((function e(a,n,c,o){var i,l,d,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(t,"/api/notes/updatenote/").concat(a),e.next=3,fetch(i,{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:n,description:c,tag:o})});case 3:l=e.sent,console.log(l),d=JSON.parse(JSON.stringify(s)),j=0;case 7:if(!(j<d.length)){e.next=16;break}if(s._id!==a){e.next=13;break}return d.title=n,d.description=c,d.tag=o,e.abrupt("break",16);case 13:j++,e.next=7;break;case 16:console.log(d+"the new notes "),r(d);case 18:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}();return Object(l.jsx)(m.Provider,{value:{Notes:s,addNote:i,deleteNote:d,editNote:j,getNotes:o},children:e.children})};var S=function(){var e=Object(n.useState)({name:"",email:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=function(e){c(Object(b.a)(Object(b.a)({},a),{},Object(j.a)({},e.target.name,e.target.value)))},r=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:5000/api/auth/creatuser",e.next=4,fetch("http://localhost:5000/api/auth/creatuser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,password:a.password})});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,console.log(s),console.log({email:a.email,password:a.password}),c({name:a.name,email:a.email,password:a.password});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"container my-3 addnote",children:[Object(l.jsx)("h1",{className:"text-center",children:"Sign Up"}),Object(l.jsxs)("form",{onSubmit:r,children:[Object(l.jsxs)("div",{className:"mb-3 row",children:[Object(l.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Name"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"inputPassword",name:"name",value:a.name,onChange:s,placeholder:"Name",required:!0,minLength:"5"})}),Object(l.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"email",className:"form-control",id:"inputPassword",name:"email",value:a.email,onChange:s,placeholder:"Email",required:!0})})]}),Object(l.jsxs)("div",{className:"mb-3 row",children:[Object(l.jsx)("label",{htmlFor:"inputPassword",name:"password",className:"col-sm-2 col-form-label",children:"Password"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"password",className:"form-control",id:"inputPassword",name:"password",value:a.password,placeholder:"choose a strong password",onChange:s,minLength:"5"})})]}),Object(l.jsx)("button",{type:"submit",children:"Sign Up"})]})]})};var C=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({email:"",password:""}),r=Object(u.a)(s,2),d=r[0],m=r[1],p=Object(i.f)(),h=function(e){m(Object(b.a)(Object(b.a)({},d),{},Object(j.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:5000/api/auth/login",e.next=4,fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),n.sucsess?(localStorage.setItem("token",n.authtoken),p.push("/"),c("")):alert("Invalid Credentails "),console.log({email:d.email,password:d.password}),c("validator");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"container my-3 addnote",children:[Object(l.jsx)("h1",{className:"text-center",children:"Log In"}),Object(l.jsxs)("form",{onSubmit:x,children:[Object(l.jsxs)("div",{className:"mb-3 row",children:[Object(l.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"email",className:"form-control ".concat(a),id:"inputPassword",name:"email",value:d.email,onChange:h})})]}),Object(l.jsxs)("div",{className:"mb-3 row",children:[Object(l.jsx)("label",{htmlFor:"inputPassword",name:"password",className:"col-sm-2 col-form-label",children:"Password"}),Object(l.jsx)("div",{className:"col-sm-10",children:Object(l.jsx)("input",{type:"password",className:"form-control ".concat(a),id:"inputPassword",name:"password",value:d.password,onChange:h})})]}),Object(l.jsx)("button",{type:"submit",children:"Login"})]}),Object(l.jsx)("p",{className:"my-3",children:"Dont Have acount? Sign Up now"}),Object(l.jsx)(o.b,{to:"/signup",children:"Click here"})]})};var T=function(){var e,t=Object(n.useState)({name:"the",email:""}),a=Object(u.a)(t,2),c=a[0],s=a[1],r=function(){var e=Object(w.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:5000/api/auth/getuser",e.next=3,fetch("http://localhost:5000/api/auth/getuser",{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify()});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),s({name:a.name,email:a.email});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(l.jsxs)("div",{className:"container mt-4",children:[Object(l.jsxs)("h3",{children:["Welcome ",(e="".concat(c.name),e.charAt(0).toUpperCase()+e.slice(1))]}),Object(l.jsxs)("h4",{children:["Username ",c.email]})]})};var P=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(k,{children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/signup",children:Object(l.jsx)(S,{})}),Object(l.jsx)(i.a,{path:"/login",children:Object(l.jsx)(C,{})}),Object(l.jsx)(i.a,{path:"/about",children:Object(l.jsx)(v,{})}),Object(l.jsxs)(i.a,{path:"/",children:[Object(l.jsx)(T,{}),Object(l.jsx)(f,{})]})]})]})})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root")),_()}},[[37,1,2]]]);
//# sourceMappingURL=main.9e066111.chunk.js.map